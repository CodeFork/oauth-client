language: csharp
os: linux		
dist: trusty
mono: latest
sudo: required
dotnet: 1.0.0-preview2-1-003177
install:
- dotnet restore
before_script:
- sh -e /etc/init.d/xvfb start
solution: "./Promact.OAuth.Client/Promact.OAuth.Client.sln"
notifications:
  email:
    on_success: change
    on_failure: always
script:
- dotnet build ./Promact.OAuth.Client/src/Promact.OAuth.Client -c Release
deploy:
  provider: script
  skip_cleanup: true
  script:
    - cd Promact.OAuth.Client && nuget spec && nuget pack Package.nuspec -Version 1.0.0 -IncludeReferencedProjects -Prop Configuration=Release && nuget push *.nupkg "8d9a12cc-321a-443e-aa19-873d603984e1" -verbosity detailed
  on:
    branch: Issue-#11